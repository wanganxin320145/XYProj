webpackJsonp([0],{114:function(t,e,a){"use strict";t.exports=Module._createSubclass("departmentManagement"),a(134);t.exports.prototype.init=function(){var t=function(){var t={el:null,data:{}};return function(e,a){return e=$.extend({},t,e)}}(),e=function(t){return{$box:t,$layout:$("<div>").appendTo(t),$grid:$("<table>")}},n=function(t,e,n){n.uiReady(function(){n.on("spaAside_resize."+n.name,function(t){n.selectors.$box.is(":visible")&&e.$layout.layout("resize")}),e.$layout.layout(),e.$layout.layout("add",{region:"north",border:!1}),e.$layout.layout("add",{region:"center",border:!0,minHeight:160,height:"80%"});var t=e.$layout.layout("panel","north");a(136)({el:t[0],data:{}});var i=e.$layout.layout("panel","center"),o=e.$grid.appendTo(i);a(137)({el:o[0],data:{}})})};return function(a){return this._inited?this:(Module._beforeInit.call(this,a,t,'<div class="m-departmentManagement"></div>',e,n),Module._afterInit.call(this,a),this)}}()},119:function(t,e,a){"use strict";t.exports=Module._createSubclass("departmentManagementDetails"),a(138);var n=a(140);t.exports.prototype.init=function(){var t=function(){var t={el:null,status:"view",data:{},callback:null};return function(e,a){return e=$.extend({},t,e)}}(),e=function(t){return{$box:t,$toolbar:t.find("._toolbar"),$detail:t.find("._details")}},i=function(t,e,n){n.uiReady(function(){var n=a(6),i=new n({providerName:"_department",providerFolder:"Department",selector:e.$detail,status:"edit",callback:t.callback});i.Init(),"add"===t.data.status?i.FormStatus("add"):"edit"===t.data.status&&i.FormStatus("edit",t.data.id),[{iconCls:"icon-edit",text:"编辑",onClick:function(){i.FormStatus("edit")}},{iconCls:"icon-save",text:"保存",onClick:function(){i.FormStatus("save")}},{iconCls:"icon-submit",text:"提交",onClick:function(){}},{iconCls:"icon-yes",text:"批准",onClick:function(){}},{iconCls:"icon-back",text:"退回",onClick:function(){}}].forEach(function(t){t.plain=!0,$("<a>").appendTo(e.$toolbar).linkbutton(t)}),e.$toolbar.rightTools({tools:[{iconCls:"icon-max",handler:function(t){var a=e.$box;t?a.addClass("maximize"):a.removeClass("maximize")}}]})})};return function(a){return this._inited?this:(Module._beforeInit.call(this,a,t,n,e,i),Module._afterInit.call(this,a),this)}}()},134:function(t,e,a){var n=a(135);"string"==typeof n&&(n=[[t.i,n,""]]);var i={attrs:{class:""}};i.transform=void 0;a(2)(n,i);n.locals&&(t.exports=n.locals)},135:function(t,e,a){e=t.exports=a(1)(!1),e.push([t.i,".m-departmentManagement{height:100%}.m-departmentManagement>.layout>.layout-panel-north>.layout-body{height:40px;line-height:40px;overflow-y:hidden;white-space:nowrap;border-bottom:5px solid #cad5db}.m-departmentManagement>.layout>.layout-panel-north>.layout-body>._inner{padding-left:50px;height:100%}.m-departmentManagement>.layout>.layout-panel-north>.layout-body>._inner>.textbox{border-radius:0;border-color:#999}.m-departmentManagement>.layout>.layout-panel-north>.layout-body>._inner>.textbox>input{padding-left:2px;padding-right:2px}.m-departmentManagement>.layout>.layout-panel-north>.layout-body>._inner>.textbox:nth-of-type(2){border-left:0}.m-departmentManagement>.layout>.layout-panel-north>.layout-body>._inner>a:first-of-type{margin:0 1px 0 2px}.m-departmentManagement>.layout>.layout-panel-center{padding:1px}.m-departmentManagement>.layout>.layout-panel-center>.panel-body{border:none}",""])},136:function(t,e,a){"use strict";t.exports=function(t){t=$.extend({},{el:null,data:{}},t);var e=$(t.el),a=$('<div class="_inner"></div>').appendTo(e);return $('<input type="text">').appendTo(a).textbox({prompt:"code",width:"80"}),$('<input type="text">').appendTo(a).textbox({prompt:"name",width:"180"}),$("<a>").linkbutton({iconCls:"icon-search",e_cls:"_searchBtn",onClick:function(){$.messager.show({title:"提示",msg:"查询功能尚未开始",timeout:3e3})}}).appendTo(a),$("<a>").linkbutton({iconCls:"icon-back",plain:!0}).appendTo(a),this}},137:function(t,e,a){"use strict";var n="/api/Department",i=a(13),o=2,d=[2,10,20,30,50];t.exports=function(t){t=$.extend({},{el:null,data:{}},t);var e=$(t.el);e.datagrid({fit:!0});var r=[[{field:"id",hidden:!0,fixed:!0},{field:"",checkbox:!0,width:50,fixed:!0},{field:"code",title:"部门代码",width:200,fixed:!0},{field:"name",title:"部门名称",width:200,fixed:!0},{field:"nickName",title:"部门昵称",width:200,fixed:!0,formatter:function(t,e,a){return U.slice(t,20,!0)}},{field:"details",title:"详述",fixed:!1,formatter:function(t,e,a){return U.slice(t,150,!0)}},{field:"createTime",title:"创建日期",fixed:!0,width:200,sortable:!0,order:"desc"}]],l=[{iconCls:"icon-add",text:"新增",handler:function(){var t=function(t){t&&c(1,o)},e=a(119)(Module.spa).init({el:Module.spa.selectors.$main[0],data:{status:"add"},callback:t});Module.spaHeader.addTab({title:"GGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGG",module:e,nav:Module.spaAside.selectors.$current[0]})}},{iconCls:"icon-edit",text:"编辑",handler:function(){var t=e.datagrid("getChecked");if(t.length<=0||t.length>1)return void i.showMessage("提示信息","请选择一条记录！");var n=function(t){if(t){var a=e.datagrid("getRowIndex",t.id);e.datagrid("updateRow",{index:a,row:{code:t.department.code,name:t.department.name,nickName:t.department.nickName,details:t.department.details}})}},o=a(119)(Module.spa).init({el:Module.spa.selectors.$main[0],data:{status:"edit",id:t[0].id,maingrid:e},callback:n});Module.spaHeader.addTab({title:"GGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGG",module:o,nav:Module.spaAside.selectors.$current[0]})}},{iconCls:"icon-remove",text:"删除",handler:function(){var t=function(){var t=e.datagrid("getChecked");if(t.length<=0||t.length>1)return void i.showMessage("提示信息","请选择一条记录！");i.delete(n+"/"+t[0].id,null,function(){i.showMessage("提示信息","删除成功");var a=e.datagrid("getRowIndex",t[0].id);e.datagrid("deleteRow",a)},function(){i.showMessage("提示信息","删除失败")})};i.deleteConfirm(t)}},{iconCls:"icon-submit",text:"提交审批"},{iconCls:"icon-yes",text:"批准"},{iconCls:"icon-back",text:"退回"},{iconCls:"icon-suspend",text:"挂起"},{iconCls:"icon-close",text:"关闭"},{iconCls:"icon-import",text:"导入"},{iconCls:"icon-export",text:"导出"},{iconCls:"icon-setting"}];e.datagrid({idField:"id",columns:r,toolbar:l,loadMsg:"加载中...",singleSelect:!1,pagination:!0,fitColumns:["ID","Code"],sortName:"code",sortOrder:"asc",selectOnCheck:!0,checkOnSelect:!0,onSelect:function(t,e){}});var s=e.datagrid("getPager");s.pagination({pageSize:o,pageNumber:1,pageList:d,layout:["first","list","sep","prev","links","next","last","refresh","info"],links:10,showPageList:!0,showRefresh:!0,showPageInfo:!0,displayMsg:"当前第 {from} - {to} 条记录，共 {total} 条记录。",onSelectPage:function(t,e){c(t,e)},onChangePageSize:function(t){o=t}});var c=function(t,a){e.datagrid("loading"),s.pagination("loading"),$.get(n,{pageindex:t,pagesize:a},function(n){e.datagrid("loadData",n.data),e.datagrid("loaded"),s.pagination("refresh",{pageNumber:t,pageSize:a,total:n.total}),s.pagination("loaded")})};c(1,o),e.datagrid("getPanel").find(".datagrid-toolbar").rightTools({tools:[{iconCls:"icon-max",handler:function(t){var a=e.datagrid("getPanel").parent();t?a.addClass("maximize"):a.removeClass("maximize"),e.datagrid("resize")}}]})}},138:function(t,e,a){var n=a(139);"string"==typeof n&&(n=[[t.i,n,""]]);var i={attrs:{class:""}};i.transform=void 0;a(2)(n,i);n.locals&&(t.exports=n.locals)},139:function(t,e,a){e=t.exports=a(1)(!1),e.push([t.i,".m-departmentManagementDetails{height:100%;background-color:#f7f7f7}.m-departmentManagementDetails>._toolbar{height:30px;line-height:30px;background-color:#d9d9d9;margin:1px;white-space:nowrap;overflow-y:hidden}.m-departmentManagementDetails>._details{height:calc(100% - 30px);margin:1px}",""])},140:function(module,exports){module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<div class="m-departmentManagementDetails">\r\n\t<div class="_toolbar"></div>\r\n\t<div class="_details"></div>\r\n</div>';return __p}}});